<!DOCTYPE html>
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.2, user-scalable=yes"><link media="all" href="https://sadewadee.pages.dev/contents/cache/autoptimize/css/autoptimize_b24ec2d7a528954050e20163b701ae04.css" rel="stylesheet"><title>Building a sidenav component | Dev Tech | Optin Labs</title><meta name="robots" content="max-image-preview:large"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="alternate" type="application/rss+xml" title="Dev Tech » Feed" href="https://sadewadee.pages.dev/en/feed/"><link rel="alternate" type="application/rss+xml" title="Dev Tech » Comments Feed" href="https://sadewadee.pages.dev/en/comments/feed/"><link rel="alternate" type="application/rss+xml" title="Dev Tech » Building a sidenav component Comments Feed" href="https://sadewadee.pages.dev/en/building-a-sidenav-component/feed/"><link rel="stylesheet" id="google-fonts-css" href="https://fonts.googleapis.com/css?family=Raleway%3A400%2C700%2C500%2C600%2C300%2C200%2C100%2C800%2C900%7CRoboto%3A400%2C700%2C400italic%2C500%2C500italic%2C300italic%2C300%2C100italic%2C100%2C700italic%2C900%2C900italic%7CKristi&amp;subset=latin%2Clatin-ext&amp;ver=1.0.0" type="text/css" media="all"> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/jquery/jquery.min.js?ver=3.6.0" id="jquery-core-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/jquery/jquery-migrate.min.js?ver=3.3.2" id="jquery-migrate-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/plugins/wp-automatic/js/main-front.js?ver=5.8.1" id="wp_automatic_gallery-js"></script>  <link rel="alternate" type="application/json" href="https://sadewadee.pages.dev/en/wp-json/wp/v2/posts/132"><link rel="alternate" type="application/json+oembed" href="https://sadewadee.pages.dev/en/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fsadewadee.pages.dev%2Fen%2Fbuilding-a-sidenav-component%2F"><link rel="alternate" type="text/xml+oembed" href="https://sadewadee.pages.dev/en/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fsadewadee.pages.dev%2Fen%2Fbuilding-a-sidenav-component%2F&amp;format=xml"><link rel="canonical" href="https://sadewadee.pages.dev/en/building-a-sidenav-component/"><meta name="description" content="A foundational overview of how to build a responsive slide out sidenavJan 21, 2021In this post I want to share with you how I prototyped a Sidenav component for the web that is responsive, stateful, supports keyboard navigation, works with and without JavaScript, and works across browsers. Try t ... | Your problem is our pleasure."> <script type="application/ld+json">{"@context":"https:\/\/schema.org","@graph":[{"@type":"WPHeader","url":"https:\/\/sadewadee.pages.dev\/en\/building-a-sidenav-component\/","headline":"Building a sidenav component | Dev Tech | Optin Labs","description":"A foundational overview of how to build a responsive slide out sidenavJan 21, 2021In this post I want to share with you how I prototyped a Sidenav component for the web that is responsive, stateful, supports keyboard navigation, works with and without JavaScript, and works across browsers. Try t ... | Your problem is our pleasure."},{"@type":"WPFooter","url":"https:\/\/sadewadee.pages.dev\/en\/building-a-sidenav-component\/","headline":"Building a sidenav component | Dev Tech | Optin Labs","description":"A foundational overview of how to build a responsive slide out sidenavJan 21, 2021In this post I want to share with you how I prototyped a Sidenav component for the web that is responsive, stateful, supports keyboard navigation, works with and without JavaScript, and works across browsers. Try t ... | Your problem is our pleasure.","copyrightYear":"2021"},{"@type":"Organization","@id":"https:\/\/sadewadee.pages.dev\/#schema-publishing-organization","url":"https:\/\/sadewadee.pages.dev","name":"Dev Tech"},{"@type":"WebSite","@id":"https:\/\/sadewadee.pages.dev\/#schema-website","url":"https:\/\/sadewadee.pages.dev","name":"Blog Teknologi Indonesia","encoding":"UTF-8","potentialAction":{"@type":"SearchAction","target":"https:\/\/sadewadee.pages.dev\/en\/search\/{search_term_string}\/","query-input":"required name=search_term_string"}},{"@type":"WebPage","@id":"https:\/\/sadewadee.pages.dev\/en\/building-a-sidenav-component\/#schema-webpage","isPartOf":{"@id":"https:\/\/sadewadee.pages.dev\/#schema-website"},"publisher":{"@id":"https:\/\/sadewadee.pages.dev\/#schema-publishing-organization"},"url":"https:\/\/sadewadee.pages.dev\/en\/building-a-sidenav-component\/"},{"@type":"Article","mainEntityOfPage":{"@id":"https:\/\/sadewadee.pages.dev\/en\/building-a-sidenav-component\/#schema-webpage"},"author":{"@type":"Person","@id":"https:\/\/sadewadee.pages.dev\/en\/author\/sadewadee\/#schema-author","name":"sadewadee","url":"https:\/\/sadewadee.pages.dev\/en\/author\/sadewadee\/"},"publisher":{"@id":"https:\/\/sadewadee.pages.dev\/#schema-publishing-organization"},"dateModified":"2021-07-03T16:43:05","datePublished":"2021-07-03T16:43:05","headline":"Building a sidenav component | Dev Tech | Optin Labs","description":"A foundational overview of how to build a responsive slide out sidenavJan 21, 2021In this post I want to share with you how I prototyped a Sidenav component for the web that is responsive, stateful, supports keyboard navigation, works with and without JavaScript, and works across browsers. Try t ... | Your problem is our pleasure.","name":"Building a sidenav component"}]}</script> <meta property="og:type" content="article"><meta property="og:url" content="https://sadewadee.pages.dev/en/building-a-sidenav-component/"><meta property="og:title" content="Building a sidenav component | Dev Tech | Optin Labs"><meta property="og:description" content="A foundational overview of how to build a responsive slide out sidenavJan 21, 2021In this post I want to share with you how I prototyped a Sidenav component for the web that is responsive, stateful, supports keyboard navigation, works with and without JavaScript, and works across browsers. Try t ... | Your problem is our pleasure."><meta property="og:image" content="https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?auto=format&amp;fit=crop&amp;h=64&amp;w=64"><meta property="article:published_time" content="2021-07-03T16:43:05"><meta property="article:author" content="sadewadee"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Building a sidenav component | Dev Tech | Optin Labs"><meta name="twitter:description" content="A foundational overview of how to build a responsive slide out sidenavJan 21, 2021In this post I want to share with you how I prototyped a Sidenav component for the web that is responsive, stateful, supports keyboard navigation, works with and without JavaScript, and works across browsers. Try t ... | Your problem is our pleasure."><meta name="twitter:image" content="https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?auto=format&amp;fit=crop&amp;h=64&amp;w=64"><link rel="alternate" hreflang="en-US" href="https://sadewadee.pages.dev/en/building-a-sidenav-component/"><link rel="alternate" hreflang="en" href="https://sadewadee.pages.dev/en/building-a-sidenav-component/"><link rel="alternate" hreflang="id-ID" href="https://sadewadee.pages.dev/id/building-a-sidenav-component/"><link rel="alternate" hreflang="id" href="https://sadewadee.pages.dev/id/building-a-sidenav-component/"><link rel="icon" href="https://sadewadee.pages.dev/contents/uploads/2021/06/cropped-Tech.id_-32x32.png" sizes="32x32"><link rel="icon" href="https://sadewadee.pages.dev/contents/uploads/2021/06/cropped-Tech.id_-192x192.png" sizes="192x192"><link rel="apple-touch-icon" href="https://sadewadee.pages.dev/contents/uploads/2021/06/cropped-Tech.id_-180x180.png"><meta name="msapplication-TileImage" content="https://sadewadee.pages.dev/contents/uploads/2021/06/cropped-Tech.id_-270x270.png"></head><body class="post-template-default single single-post postid-132 single-format-standard translatepress-en_US custombody light"> <script>var thisClass = $(this).attr("w-article-header");
	jQuery(document).ready(function($) {
$('header.' + thisClass).remove();
	});</script> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><div id="wrapper"><header class="header"><div class="container"><div class="row"><div class="col-md-2"><div id="logo"> <a href="https://sadewadee.pages.dev/en/" class="logo" title="Dev Tech">Dev Tech</a></div></div><div class="col-md-10"><nav id="mainmenu"><ul id="menu-main" class="menu"><li id="menu-item-77" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-77"><a href="http://optinlabs.my.id/blogs">Home</a></li><li id="menu-item-76" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-76"><a href="https://sadewadee.pages.dev/en/category/tech/">Tech</a></li></ul></nav></div></div></div></header><div id="content" class="container main-content page"><div class="row"><div class="col-md-8 right-sidebar"><div class="row"><div class="post-132 post type-post status-publish format-standard hentry category-tech tag-javascript post-container col-md-12"><div class="post-article"><header class="title"><div class="line"><h1 class="title">Building a sidenav component</h1></div></header><div class="entry-info"> <span> <i class="fa fa-clock-o"></i>July 3, 2021</span> <span class="entry-standard"><i class="fa fa-pencil-square-o"></i>Article</span></div><div><header class="w-article-header"><p class="w-article-header__subhead w-mb--non">A foundational overview of how to build a responsive slide out sidenav</p><p><time>Jan 21, 2021</time></p><div class="w-authors w-mt--xl w-pt--sm"><div class="w-author"><a href="https://sadewadee.pages.dev/authors/adamargyle"><img alt="Adam Argyle" class="w-author__image" height="64" src="https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?auto=format&amp;fit=crop&amp;h=64&amp;w=64" width="64" loading="lazy" decoding="async" sizes="(min-width: 64px) 64px, calc(100vw - 48px)" srcset="https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=1&amp;q=75 ,https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=2&amp;q=50 2x,https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=3&amp;q=35 3x,https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=4&amp;q=23 4x,https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=5&amp;q=20 5x"></a></div></div></header><p>In this post I want to share with you how I prototyped a Sidenav component for the web that is responsive, stateful, supports keyboard navigation, works with and without JavaScript, and works across browsers. Try the <a href="https://gui-challenges.web.app/sidenav/dist/" rel="noopener">demo</a>.</p><p>If you prefer video, here’s a YouTube version of this post:</p><div id="toc_container" class="no_bullets"><p class="toc_title">Contents</p><ul class="toc_list"><li><a href="#Overview"><span class="toc_number toc_depth_1">1</span> Overview #</a></li><li><a href="#Web_Tactics"><span class="toc_number toc_depth_1">2</span> Web Tactics #</a><ul><li><a href="#CSS_target_pseudo-class"><span class="toc_number toc_depth_2">2.1</span> CSS :target pseudo-class #</a></li><li><a href="#CSS_Grid"><span class="toc_number toc_depth_2">2.2</span> CSS Grid #</a><ul><li><a href="#Stacks"><span class="toc_number toc_depth_3">2.2.1</span> Stacks #</a></li></ul></li><li><a href="#CSS_3D_transforms_038_transitions"><span class="toc_number toc_depth_2">2.3</span> CSS 3D transforms &amp; transitions #</a><ul><li><a href="#Accessible_motion"><span class="toc_number toc_depth_3">2.3.1</span> Accessible motion #</a></li><li><a href="#Transition_transform_translate"><span class="toc_number toc_depth_3">2.3.2</span> Transition, transform, translate #</a><ul><li><a href="#Sidenav_out_default"><span class="toc_number toc_depth_4">2.3.2.1</span> Sidenav out (default) #</a></li><li><a href="#Sidenav_in"><span class="toc_number toc_depth_4">2.3.2.2</span> Sidenav in #</a></li></ul></li><li><a href="#Transition_visibility"><span class="toc_number toc_depth_3">2.3.3</span> Transition visibility #</a></li></ul></li><li><a href="#Accessibility_UX_enhancements"><span class="toc_number toc_depth_2">2.4</span> Accessibility UX enhancements #</a><ul><li><a href="#Links"><span class="toc_number toc_depth_3">2.4.1</span> Links #</a></li><li><a href="#ishover_focus"><span class="toc_number toc_depth_3">2.4.2</span> :is(:hover, :focus) #</a></li><li><a href="#Sprinkle_on_JavaScript"><span class="toc_number toc_depth_3">2.4.3</span> Sprinkle on JavaScript #</a><ul><li><a href="#Press_escape_to_close"><span class="toc_number toc_depth_4">2.4.3.1</span> Press escape to close #</a></li><li><a href="#Focus_UX"><span class="toc_number toc_depth_4">2.4.3.2</span> Focus UX #</a></li></ul></li></ul></li><li><a href="#Conclusion"><span class="toc_number toc_depth_2">2.5</span> Conclusion #</a></li></ul></li></ul></div><h2 id="overview"><span id="Overview">Overview <a href="#overview" class="w-headline-link">#</a></span></h2><p>It’s tough building a responsive navigation system. Some users will be on a keyboard, some will have powerful desktops, and some will visit from a small mobile device. Everyone visiting should be able to open and close the menu.</p><figure class="w-figure w-figure--fullbleed"><video autoplay="" class="w-screenshot" controls="" loop="" muted="" playsinline=""><source src="https://storage.googleapis.com/atoms-sandbox.google.com.a.appspot.com/gui-sidenav/desktop-demo-1080p.mp4"></source></video><figcaption class="w-figure">Desktop to mobile responsive layout demo</figcaption></figure><figure class="w-figure"><video autoplay="" class="w-screenshot" controls="" loop="" muted="" playsinline=""><source src="https://storage.googleapis.com/atoms-sandbox.google.com.a.appspot.com/gui-sidenav/mobile-demo-1080p.mp4"></source></video><figcaption class="w-figure">Light and dark theme down on iOS and Android</figcaption></figure><h2 id="web-tactics"><span id="Web_Tactics">Web Tactics <a href="#web-tactics" class="w-headline-link">#</a></span></h2><p>In this component exploration I had the joy of combining a few critical web platform features:</p><ol><li>CSS <a href="#target-psuedo-class"><code>:target</code></a></li><li>CSS <a href="#grid-stack">grid</a></li><li>CSS <a href="#transforms">transforms</a></li><li>CSS Media Queries for viewport and user preference</li><li>JS for <code>focus</code> <a href="#ux-enhancements">UX enhancements</a></li></ol><p>My solution has one sidebar and toggles only when at a “mobile” viewport of <code>540px</code> or less. <code>540px</code> will be our breakpoint for switching between the mobile interactive layout and the static desktop layout.</p><h3 id="target-psuedo-class"><span id="CSS_target_pseudo-class">CSS <code>:target</code> pseudo-class <a href="#target-psuedo-class" class="w-headline-link">#</a></span></h3><p>One <code><a></a></code> link sets the url hash to <code>#sidenav-open</code> and the other to empty (<code>''</code>). Lastly, an element has the <code>id</code> to match the hash:</p><p><web-copy-code></web-copy-code></p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#sidenav-open<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sidenav-button<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Open Menu<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Open Menu<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><p><span class="token tag"><span class="token tag"><span class="token punctuation">a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sidenav-close<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Close Menu<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Close Menu<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation"></span>a</span><span class="token punctuation">&gt;</span></span></span></p><p><span class="token tag"><span class="token tag"><span class="token punctuation">aside</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sidenav-open<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br>…<br><span class="token tag"><span class="token tag"><span class="token punctuation"></span>aside</span><span class="token punctuation">&gt;</span></span></span></p></span></code></pre><p></p><p>Clicking each of these links changes the hash state of our page URL, then with a pseudo-class I show and hide the sidenav:</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 540px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br><span class="token selector">#sidenav-open</span> <span class="token punctuation">{</span><br><span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><br><span class="token punctuation">}</span><p><span class="token selector">#sidenav-open:target</span> <span class="token punctuation">{</span><br><span class="token property">visibility</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token punctuation">}</span></p></code></pre><p></p><figure class="w-figure w-figure--fullbleed"><video autoplay="" class="w-screenshot" controls="" loop="" muted="" playsinline=""><source src="https://storage.googleapis.com/atoms-sandbox.google.com.a.appspot.com/hash-change.mp4"></source></video></figure><h3 id="grid-stacks"><span id="CSS_Grid">CSS Grid <a href="#grid-stacks" class="w-headline-link">#</a></span></h3><p>In the past, I only used absolute or fixed position sidenav layouts and components. Grid though, with its <code>grid-area</code> syntax, lets us assign multiple elements to the same row or column.</p><h4 id="stacks"><span id="Stacks">Stacks <a href="#stacks" class="w-headline-link">#</a></span></h4><p>The primary layout element <code>#sidenav-container</code> is a grid that creates 1 row and 2 columns, 1 of each are named <code>stack</code>. When space is constrained, CSS assigns all of the <code><main></main></code> element’s children to the same grid name, placing all elements into the same space, creating a stack.</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="token selector">#sidenav-container</span> <span class="token punctuation">{</span><br><span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span><br><span class="token property">grid</span><span class="token punctuation">:</span> [stack] 1fr / min-content [stack] 1fr<span class="token punctuation">;</span><br><span class="token property">min-height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span><br><span class="token punctuation">}</span><p><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 540px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br><span class="token selector">#sidenav-container &gt; *</span> <span class="token punctuation">{</span><br><span class="token property">grid-area</span><span class="token punctuation">:</span> stack<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token punctuation">}</span></p></code></pre><p></p><figure class="w-figure w-figure--fullbleed"><video autoplay="" class="w-screenshot" controls="" loop="" muted="" playsinline=""><source src="https://storage.googleapis.com/atoms-sandbox.google.com.a.appspot.com/responsive-stack-demo-1080p.mp4"></source></video></figure><p>The <code></code></p><aside> is the animating element that contains the side navigation. It has 2 children: the navigation container <code><nav></nav></code> named <code>[nav]</code> and a backdrop <code><a></a></code> named <code>[escape]</code>, which is used to close the menu.<p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="token selector">#sidenav-open</span> <span class="token punctuation">{</span><br><span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span><br><span class="token property">grid-template-columns</span><span class="token punctuation">:</span> [nav] 2fr [escape] 1fr<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p></p><p>Adjust <code>2fr</code> &amp; <code>1fr</code> to find the ratio you like for the menu overlay and its negative space close button.</p><figure class="w-figure w-figure--fullbleed"><video autoplay="" class="w-screenshot" controls="" loop="" muted="" playsinline=""><source src="https://storage.googleapis.com/atoms-sandbox.google.com.a.appspot.com/overlay-escape-ratio.mp4"></source></video><figcaption class="w-figure">A demo of what happens when you change the ratio.</figcaption></figure><h3 id="transforms"><span id="CSS_3D_transforms_038_transitions">CSS 3D transforms &amp; transitions <a href="#transforms" class="w-headline-link">#</a></span></h3><p>Our layout is now stacked at a mobile viewport size. Until I add some new styles, it’s overlaying our article by default. Here’s some UX I’m shooting for in this next section:</p><ul><li>Animate open and close</li><li>Only animate with motion if the user is OK with that</li><li>Animate <code>visibility</code> so keyboard focus doesn’t enter the offscreen element</li></ul><p>As I begin to implement motion animations, I want to start with accessibility top of mind.</p><h4 id="accessible-motion"><span id="Accessible_motion">Accessible motion <a href="#accessible-motion" class="w-headline-link">#</a></span></h4><p>Not everyone will want a slide out motion experience. In our solution this preference is applied by adjusting a <code>--duration</code> CSS variable inside a media query. This media query value represents a user’s operating system preference for motion (if available).</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="token selector">#sidenav-open</span> <span class="token punctuation">{</span><br><span class="token property">--duration</span><span class="token punctuation">:</span> .6s<span class="token punctuation">;</span><br><span class="token punctuation">}</span><p><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> reduce<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br><span class="token selector">#sidenav-open</span> <span class="token punctuation">{</span><br><span class="token property">--duration</span><span class="token punctuation">:</span> 1ms<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token punctuation">}</span></p></code></pre><p></p><figure class="w-figure w-figure--fullbleed"><video autoplay="" class="w-screenshot" controls="" loop="" muted="" playsinline=""><source src="https://storage.googleapis.com/atoms-sandbox.google.com.a.appspot.com/prefers-reduced-motion.mp4"></source></video><figcaption class="w-figure">A demo of the interaction with and without duration applied.</figcaption></figure><p>Now when our sidenav is sliding open and closed, if a user prefers reduced motion, I instantly move the element into view, maintaining state without motion.</p><h4 id="transition-transform-translate"><span id="Transition_transform_translate">Transition, transform, translate <a href="#transition-transform-translate" class="w-headline-link">#</a></span></h4><h5 id="sidenav-out-(default)"><span id="Sidenav_out_default">Sidenav out (default) <a href="#sidenav-out-(default)" class="w-headline-link">#</a></span></h5><p>To set the default state of our sidenav on mobile to an offscreen state, I position the element with <code>transform: translateX(-110vw)</code>.</p><p>Note, I added another <code>10vw</code> to the typical offscreen code of <code>-100vw</code>, to ensure the <code>box-shadow</code> of the sidenav doesn’t peek into the main viewport when it’s hidden.</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 540px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br><span class="token selector">#sidenav-open</span> <span class="token punctuation">{</span><br><span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><br><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-110vw<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token property">will-change</span><span class="token punctuation">:</span> transform<span class="token punctuation">;</span><br><span class="token property">transition</span><span class="token punctuation">:</span><br>transform <span class="token function">var</span><span class="token punctuation">(</span>--duration<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--easeOutExpo<span class="token punctuation">)</span><span class="token punctuation">,</span><br>visibility 0s linear <span class="token function">var</span><span class="token punctuation">(</span>--duration<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p></p><h5 id="sidenav-in"><span id="Sidenav_in">Sidenav in <a href="#sidenav-in" class="w-headline-link">#</a></span></h5><p>When the <code>#sidenav</code> element matches as <code>:target</code>, set the <code>translateX()</code> position to homebase <code></code>, and watch as CSS slides the element from its out position of <code>-110vw</code>, to its “in” position of <code></code> over <code>var(--duration)</code> when the URL hash is changed.</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 540px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br><span class="token selector">#sidenav-open:target</span> <span class="token punctuation">{</span><br><span class="token property">visibility</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span><br><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token property">transition</span><span class="token punctuation">:</span><br>transform <span class="token function">var</span><span class="token punctuation">(</span>--duration<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--easeOutExpo<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p></p><h4 id="transition-visibility"><span id="Transition_visibility">Transition visibility <a href="#transition-visibility" class="w-headline-link">#</a></span></h4><p>The goal now is to hide the menu from screenreaders when it’s out, so systems don’t put focus into an offscreen menu. I accomplish this by setting a visibility transition when the <code>:target</code> changes.</p><ul><li>When going in, don’t transition visibility; be visible right away so I can see the element slide in and accept focus.</li><li>When going out, transition visibility but delay it, so it flips to <code>hidden</code> at the end of the transition out.</li></ul><h3 id="ux-enhancements"><span id="Accessibility_UX_enhancements">Accessibility UX enhancements <a href="#ux-enhancements" class="w-headline-link">#</a></span></h3><h4 id="links"><span id="Links">Links <a href="#links" class="w-headline-link">#</a></span></h4><p>This solution relies on changing the URL in order for the state to be managed. Naturally, the <code><a></a></code> element should be used here, and it gets some nice accessibility features for free. Let’s adorn our interactive elements with labels clearly articulating intent.</p><p><web-copy-code></web-copy-code></p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sidenav-close<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Close Menu<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Close Menu<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation"></span>a</span><span class="token punctuation">&gt;</span></span><p><span class="token tag"><span class="token tag"><span class="token punctuation">a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#sidenav-open<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sidenav-button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hamburger<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Open Menu<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Open Menu<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">svg</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation"></span>svg</span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation"></span>a</span><span class="token punctuation">&gt;</span></span></span></span></p></span></code></pre><p></p><figure class="w-figure w-figure--fullbleed"><video autoplay="" class="w-screenshot" controls="" loop="" muted="" playsinline=""><source src="https://storage.googleapis.com/atoms-sandbox.google.com.a.appspot.com/keyboard-voiceover.mp4"></source></video><figcaption class="w-figure">A demo of the voiceover and keyboard interaction UX.</figcaption></figure><p>Now our primary interaction buttons clearly state their intent for both mouse and keyboard.</p><h4 id=":is(:hover-:focus)"><span id="ishover_focus"><code>:is(:hover, :focus)</code> <a href="#:is(:hover-:focus)" class="w-headline-link">#</a></span></h4><p>This handy CSS functional pseudo-selector lets us swiftly be inclusive with our hover styles by sharing them with focus as well.</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="token selector">.hamburger:is(:hover, :focus) svg &gt; line</span> <span class="token punctuation">{</span><br><span class="token property">stroke</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--brandHSL<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p></p><h4 id="sprinkle-on-javascript"><span id="Sprinkle_on_JavaScript">Sprinkle on JavaScript <a href="#sprinkle-on-javascript" class="w-headline-link">#</a></span></h4><h5 id="press-escape-to-close"><span id="Press_escape_to_close">Press <code>escape</code> to close <a href="#press-escape-to-close" class="w-headline-link">#</a></span></h5><p>The <code>Escape</code> key on your keyboard should close the menu right? Let’s wire that up.</p><p><web-copy-code></web-copy-code></p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> sidenav <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#sidenav-open'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><p>sidenav<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br><span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'Escape'</span><span class="token punctuation">)</span> document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></p></code></pre><p></p><h5 id="focus-ux"><span id="Focus_UX">Focus UX <a href="#focus-ux" class="w-headline-link">#</a></span></h5><p>The next snippet helps us put focus on the open and close buttons after they open or close. I want to make toggling easy.</p><p><web-copy-code></web-copy-code></p><pre class="language-js"><code class="language-js">sidenav<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'transitionend'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br><span class="token keyword">const</span> isOpen <span class="token operator">=</span> document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash <span class="token operator">===</span> <span class="token string">'#sidenav-open'</span><span class="token punctuation">;</span><p>isOpen<br><span class="token operator">?</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#sidenav-close'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#sidenav-button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span></p></code></pre><p></p><p>When the sidenav opens, focus the close button. When the sidenav closes, focus the open button. I do this by calling <code>focus()</code> on the element in JavaScript.</p><h3 id="conclusion"><span id="Conclusion">Conclusion <a href="#conclusion" class="w-headline-link">#</a></span></h3><p>Now that you know how I did it, how would you?! This makes for some fun component architecture! Who’s going to make the 1st version with slots? 🙂</p><p>Let’s diversify our approaches and learn all the ways to build on the web. Create a <a href="https://glitch.com" rel="noopener">Glitch</a>, <a href="https://twitter.com/argyleink" rel="noopener">tweet me</a> your version, and I’ll add it to the <a href="#community-remixes">Community remixes</a> section below.</p><div class="w-mb--l w-mt--l w-post-github-link"><span class="w-mr--sm">Last updated: <time>Jan 21, 2021</time></span><a href="https://github.com/GoogleChrome/web.dev/blob/master/src/site/content/en/blog/building-a-sidenav-component/index.md">Improve article</a></div><p><web-feedback additional-questions=""></web-feedback></p></aside></div><p><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></p><div style="clear:both; margin-top:0em; margin-bottom:1em;"><a href="https://sadewadee.pages.dev/en/codelab-building-a-sidenav-component/" target="_blank" rel="nofollow" class="u6d81cbe0441bda9b8d27be150700fc09"><div style="padding-left:1em; padding-right:1em;"><span class="ctaText">READ Also : </span>  <span class="postTitle">Codelab: Building a Sidenav component</span></div></a></div><div class="clear"></div></div><div style="clear:both"></div></div></div></div><div class="col-md-4"><div class="row"><div id="sidebar" class="col-md-12"><div class="sidebar-box"><div class="widget-box"><header class="title"><div class="line"><h3>Calendar</h3></div></header><div id="calendar_wrap" class="calendar_wrap"><table id="wp-calendar" class="wp-calendar-table"><caption>November 2021</caption><thead><tr><th scope="col" title="Monday">M</th><th scope="col" title="Tuesday">T</th><th scope="col" title="Wednesday">W</th><th scope="col" title="Thursday">T</th><th scope="col" title="Friday">F</th><th scope="col" title="Saturday">S</th><th scope="col" title="Sunday">S</th></tr></thead><tbody><tr><td><a href="https://sadewadee.pages.dev/en/2021/11/01/" aria-label="Posts published on November 1, 2021">1</a></td><td><a href="https://sadewadee.pages.dev/en/2021/11/02/" aria-label="Posts published on November 2, 2021">2</a></td><td><a href="https://sadewadee.pages.dev/en/2021/11/03/" aria-label="Posts published on November 3, 2021">3</a></td><td id="today"><a href="https://sadewadee.pages.dev/en/2021/11/04/" aria-label="Posts published on November 4, 2021">4</a></td><td>5</td><td>6</td><td>7</td></tr><tr><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td></tr><tr><td>15</td><td>16</td><td>17</td><td>18</td><td>19</td><td>20</td><td>21</td></tr><tr><td>22</td><td>23</td><td>24</td><td>25</td><td>26</td><td>27</td><td>28</td></tr><tr><td>29</td><td>30</td><td class="pad" colspan="5"> </td></tr></tbody></table><nav aria-label="Previous and next months" class="wp-calendar-nav"> <span class="wp-calendar-nav-prev"><a href="https://sadewadee.pages.dev/en/2021/10/">« Oct</a></span> <span class="pad"> </span> <span class="wp-calendar-nav-next"> </span></nav></div></div><div class="widget-box"><header class="title"><div class="line"><h3>Archives</h3></div></header><ul><li><a href="https://sadewadee.pages.dev/en/2021/11/">November 2021</a></li><li><a href="https://sadewadee.pages.dev/en/2021/10/">October 2021</a></li><li><a href="https://sadewadee.pages.dev/en/2021/08/">August 2021</a></li><li><a href="https://sadewadee.pages.dev/en/2021/07/">July 2021</a></li><li><a href="https://sadewadee.pages.dev/en/2021/06/">June 2021</a></li></ul></div><div class="widget-box"><header class="title"><div class="line"><h3>Categories</h3></div></header><ul><li class="cat-item cat-item-18"><a href="https://sadewadee.pages.dev/en/category/improve-article/">Improve article</a></li><li class="cat-item cat-item-19"><a href="https://sadewadee.pages.dev/en/category/performance/">Performance</a></li><li class="cat-item cat-item-16"><a href="https://sadewadee.pages.dev/en/category/tech/">Tech</a></li><li class="cat-item cat-item-1"><a href="https://sadewadee.pages.dev/en/category/uncategorized/">Uncategorized</a></li><li class="cat-item cat-item-21"><a href="https://sadewadee.pages.dev/en/category/wordpress/">Wordpress</a></li></ul></div></div></div></div></div><div class="clear"></div></div></div><footer id="footer"><div class="container"><div class="row copyright"><div class="col-md-6"><p> Copyright Dev Tech 2021                                                | By <a href="https://www.themeinprogress.com/" target="_blank">Theme in Progress</a> | <a href="http://wordpress.org/" title="A Semantic Personal Publishing Platform" rel="generator">Proudly powered by WordPress</a></p></div><div class="col-md-6"><div class="socials"></div></div></div></div></footer></div><div id="trp-floater-ls" onclick="" data-no-translation class="trp-language-switcher-container trp-floater-ls-names trp-bottom-right trp-color-dark"><div id="trp-floater-ls-current-language" class="trp-with-flags"> <a href="#" class="trp-floater-ls-disabled-language trp-ls-disabled-language" onclick="event.preventDefault()"> <img class="trp-flag-image" src="https://sadewadee.pages.dev/contents/plugins/translatepress-multilingual/assets/images/flags/en_US.png" width="18" height="12" alt="en_US" title="English">English </a></div><div id="trp-floater-ls-language-list" class="trp-with-flags"><div class="trp-language-wrap"> <a href="https://sadewadee.pages.dev/id/building-a-sidenav-component/" title="Indonesian"> <img class="trp-flag-image" src="https://sadewadee.pages.dev/contents/plugins/translatepress-multilingual/assets/images/flags/id_ID.png" width="18" height="12" alt="id_ID" title="Indonesian">Indonesian </a> <a href="#" class="trp-floater-ls-disabled-language trp-ls-disabled-language" onclick="event.preventDefault()"><img class="trp-flag-image" src="https://sadewadee.pages.dev/contents/plugins/translatepress-multilingual/assets/images/flags/en_US.png" width="18" height="12" alt="en_US" title="English">English</a></div></div></div> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7" id="regenerator-runtime-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0" id="wp-polyfill-js"></script> <script type="text/javascript" id="contact-form-7-js-extra">var wpcf7 = {"api":{"root":"https:\/\/sadewadee.pages.dev\/en\/wp-json\/","namespace":"contact-form-7\/v1"},"cached":"1"};</script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/plugins/contact-form-7/includes/js/index.js?ver=5.4.2" id="contact-form-7-js"></script> <script type="text/javascript" id="toc-front-js-extra">var tocplus = {"smooth_scroll":"1","visibility_show":"show","visibility_hide":"hide","visibility_hide_by_default":"1","width":"Auto"};</script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/plugins/table-of-contents-plus/front.min.js?ver=2106" id="toc-front-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/ui/tema/assets/js/jquery.easing.js?ver=1.3" id="jquery-easing-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/ui/tema/assets/js/jquery.tinynav.js?ver=1.1" id="jquery-tinynav-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/ui/tema/assets/js/jquery.tipsy.js?ver=1.0.0a" id="jquery-tipsy-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/ui/tema/assets/js/prettyPhoto.js?ver=3.1.4" id="prettyPhoto-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/imagesloaded.min.js?ver=4.1.4" id="imagesloaded-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/masonry.min.js?ver=4.2.2" id="masonry-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/ui/tema/assets/js/template.js?ver=1.0.0" id="alhena-lite-template-js"></script> </body></html>
