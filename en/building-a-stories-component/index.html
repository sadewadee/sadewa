<!DOCTYPE html>
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.2, user-scalable=yes"><link media="all" href="https://sadewadee.pages.dev/contents/cache/autoptimize/css/autoptimize_2b621b7456b4e5944562c6ec858bdfe1.css" rel="stylesheet"><title>Building a Stories component | Dev Tech | Optin Labs</title><meta name="robots" content="max-image-preview:large"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="alternate" type="application/rss+xml" title="Dev Tech » Feed" href="https://sadewadee.pages.dev/en/feed/"><link rel="alternate" type="application/rss+xml" title="Dev Tech » Comments Feed" href="https://sadewadee.pages.dev/en/comments/feed/"><link rel="alternate" type="application/rss+xml" title="Dev Tech » Building a Stories component Comments Feed" href="https://sadewadee.pages.dev/en/building-a-stories-component/feed/"><link rel="stylesheet" id="google-fonts-css" href="https://fonts.googleapis.com/css?family=Raleway%3A400%2C700%2C500%2C600%2C300%2C200%2C100%2C800%2C900%7CRoboto%3A400%2C700%2C400italic%2C500%2C500italic%2C300italic%2C300%2C100italic%2C100%2C700italic%2C900%2C900italic%7CKristi&amp;subset=latin%2Clatin-ext&amp;ver=1.0.0" type="text/css" media="all"> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/jquery/jquery.min.js?ver=3.6.0" id="jquery-core-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/jquery/jquery-migrate.min.js?ver=3.3.2" id="jquery-migrate-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/plugins/wp-automatic/js/main-front.js?ver=5.8.1" id="wp_automatic_gallery-js"></script>  <link rel="alternate" type="application/json" href="https://sadewadee.pages.dev/en/wp-json/wp/v2/posts/109"><link rel="alternate" type="application/json+oembed" href="https://sadewadee.pages.dev/en/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fsadewadee.pages.dev%2Fen%2Fbuilding-a-stories-component%2F"><link rel="alternate" type="text/xml+oembed" href="https://sadewadee.pages.dev/en/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fsadewadee.pages.dev%2Fen%2Fbuilding-a-stories-component%2F&amp;format=xml"><link rel="canonical" href="https://sadewadee.pages.dev/en/building-a-stories-component/"><meta name="description" content="A foundational overview of how to build an experience similar to Instagram Stories on the web.Nov 25, 2020In this post I want to share thinking on building a Stories component for the web that is responsive, supports keyboard navigation, and works across browsers.DemoIf you would prefer a hands- ... | Your problem is our pleasure."> <script type="application/ld+json">{"@context":"https:\/\/schema.org","@graph":[{"@type":"WPHeader","url":"https:\/\/sadewadee.pages.dev\/en\/building-a-stories-component\/","headline":"Building a Stories component | Dev Tech | Optin Labs","description":"A foundational overview of how to build an experience similar to Instagram Stories on the web.Nov 25, 2020In this post I want to share thinking on building a Stories component for the web that is responsive, supports keyboard navigation, and works across browsers.DemoIf you would prefer a hands- ... | Your problem is our pleasure."},{"@type":"WPFooter","url":"https:\/\/sadewadee.pages.dev\/en\/building-a-stories-component\/","headline":"Building a Stories component | Dev Tech | Optin Labs","description":"A foundational overview of how to build an experience similar to Instagram Stories on the web.Nov 25, 2020In this post I want to share thinking on building a Stories component for the web that is responsive, supports keyboard navigation, and works across browsers.DemoIf you would prefer a hands- ... | Your problem is our pleasure.","copyrightYear":"2021"},{"@type":"Organization","@id":"https:\/\/sadewadee.pages.dev\/#schema-publishing-organization","url":"https:\/\/sadewadee.pages.dev","name":"Dev Tech"},{"@type":"WebSite","@id":"https:\/\/sadewadee.pages.dev\/#schema-website","url":"https:\/\/sadewadee.pages.dev","name":"Blog Teknologi Indonesia","encoding":"UTF-8","potentialAction":{"@type":"SearchAction","target":"https:\/\/sadewadee.pages.dev\/en\/search\/{search_term_string}\/","query-input":"required name=search_term_string"}},{"@type":"WebPage","@id":"https:\/\/sadewadee.pages.dev\/en\/building-a-stories-component\/#schema-webpage","isPartOf":{"@id":"https:\/\/sadewadee.pages.dev\/#schema-website"},"publisher":{"@id":"https:\/\/sadewadee.pages.dev\/#schema-publishing-organization"},"url":"https:\/\/sadewadee.pages.dev\/en\/building-a-stories-component\/"},{"@type":"Article","mainEntityOfPage":{"@id":"https:\/\/sadewadee.pages.dev\/en\/building-a-stories-component\/#schema-webpage"},"author":{"@type":"Person","@id":"https:\/\/sadewadee.pages.dev\/en\/author\/sadewadee\/#schema-author","name":"sadewadee","url":"https:\/\/sadewadee.pages.dev\/en\/author\/sadewadee\/"},"publisher":{"@id":"https:\/\/sadewadee.pages.dev\/#schema-publishing-organization"},"dateModified":"2021-06-28T20:37:30","datePublished":"2021-06-28T20:37:29","headline":"Building a Stories component | Dev Tech | Optin Labs","description":"A foundational overview of how to build an experience similar to Instagram Stories on the web.Nov 25, 2020In this post I want to share thinking on building a Stories component for the web that is responsive, supports keyboard navigation, and works across browsers.DemoIf you would prefer a hands- ... | Your problem is our pleasure.","name":"Building a Stories component","image":{"@type":"ImageObject","@id":"https:\/\/sadewadee.pages.dev\/en\/building-a-stories-component\/#schema-article-image","url":"https:\/\/sadewadee.pages.dev\/contents\/uploads\/2021\/06\/0yVm8NC0TiAsl6hcDxys.png","height":255,"width":716},"thumbnailUrl":"https:\/\/sadewadee.pages.dev\/contents\/uploads\/2021\/06\/0yVm8NC0TiAsl6hcDxys.png"}]}</script> <meta property="og:type" content="article"><meta property="og:url" content="https://sadewadee.pages.dev/en/building-a-stories-component/"><meta property="og:title" content="Building a Stories component | Dev Tech | Optin Labs"><meta property="og:description" content="A foundational overview of how to build an experience similar to Instagram Stories on the web.Nov 25, 2020In this post I want to share thinking on building a Stories component for the web that is responsive, supports keyboard navigation, and works across browsers.DemoIf you would prefer a hands- ... | Your problem is our pleasure."><meta property="og:image" content="https://sadewadee.pages.dev/contents/uploads/2021/06/0yVm8NC0TiAsl6hcDxys.png"><meta property="og:image:width" content="716"><meta property="og:image:height" content="255"><meta property="article:published_time" content="2021-06-28T20:37:29"><meta property="article:author" content="sadewadee"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Building a Stories component | Dev Tech | Optin Labs"><meta name="twitter:description" content="A foundational overview of how to build an experience similar to Instagram Stories on the web.Nov 25, 2020In this post I want to share thinking on building a Stories component for the web that is responsive, supports keyboard navigation, and works across browsers.DemoIf you would prefer a hands- ... | Your problem is our pleasure."><meta name="twitter:image" content="https://sadewadee.pages.dev/contents/uploads/2021/06/0yVm8NC0TiAsl6hcDxys.png"><link rel="alternate" hreflang="en-US" href="https://sadewadee.pages.dev/en/building-a-stories-component/"><link rel="alternate" hreflang="en" href="https://sadewadee.pages.dev/en/building-a-stories-component/"><link rel="alternate" hreflang="id-ID" href="https://sadewadee.pages.dev/id/building-a-stories-component/"><link rel="alternate" hreflang="id" href="https://sadewadee.pages.dev/id/building-a-stories-component/"><link rel="icon" href="https://sadewadee.pages.dev/contents/uploads/2021/06/cropped-Tech.id_-32x32.png" sizes="32x32"><link rel="icon" href="https://sadewadee.pages.dev/contents/uploads/2021/06/cropped-Tech.id_-192x192.png" sizes="192x192"><link rel="apple-touch-icon" href="https://sadewadee.pages.dev/contents/uploads/2021/06/cropped-Tech.id_-180x180.png"><meta name="msapplication-TileImage" content="https://sadewadee.pages.dev/contents/uploads/2021/06/cropped-Tech.id_-270x270.png"></head><body class="post-template-default single single-post postid-109 single-format-standard translatepress-en_US custombody light"> <script>var thisClass = $(this).attr("w-article-header");
	jQuery(document).ready(function($) {
$('header.' + thisClass).remove();
	});</script> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><div id="wrapper"><header class="header"><div class="container"><div class="row"><div class="col-md-2"><div id="logo"> <a href="https://sadewadee.pages.dev/en/" class="logo" title="Dev Tech">Dev Tech</a></div></div><div class="col-md-10"><nav id="mainmenu"><ul id="menu-main" class="menu"><li id="menu-item-77" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-77"><a href="http://optinlabs.my.id/blogs">Home</a></li><li id="menu-item-76" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-76"><a href="https://sadewadee.pages.dev/en/category/tech/">Tech</a></li></ul></nav></div></div></div></header><div id="content" class="container main-content page"><div class="row"><div class="col-md-8 right-sidebar"><div class="row"><div class="post-109 post type-post status-publish format-standard has-post-thumbnail hentry category-tech post-container col-md-12"><div class="media-container"><img src="https://sadewadee.pages.dev/contents/uploads/2021/06/0yVm8NC0TiAsl6hcDxys.png" class="attachment-blog size-blog wp-post-image" alt="" loading="lazy" srcset="https://sadewadee.pages.dev/contents/uploads/2021/06/0yVm8NC0TiAsl6hcDxys.png 716w,https://sadewadee.pages.dev/contents/uploads/2021/06/0yVm8NC0TiAsl6hcDxys-300x107.png 300w" sizes="(max-width: 716px) 100vw, 716px"></div><div class="post-article"><header class="title"><div class="line"><h1 class="title">Building a Stories component</h1></div></header><div class="entry-info"> <span> <i class="fa fa-clock-o"></i>June 28, 2021</span> <span class="entry-standard"><i class="fa fa-pencil-square-o"></i>Article</span></div><div><header class="w-article-header"><p class="w-article-header__subhead w-mb--non">A foundational overview of how to build an experience similar to Instagram Stories on the web.</p><p><time>Nov 25, 2020</time></p><div class="w-authors w-mt--xl w-pt--sm"><div class="w-author"><a href="https://sadewadee.pages.dev/authors/adamargyle"></a></div></div></header><p>In this post I want to share thinking on building a Stories component for the web that is responsive, supports keyboard navigation, and works across browsers.</p><figure class="w-figure w-figure--fullbleed"><video autoplay="" class="w-screenshot" controls="" loop="" muted="" playsinline=""><source src="https://storage.googleapis.com/web-dev-assets/gui-challenges/stories-desktop-demo.mp4"></source></video><figcaption class="w-figure"><a href="https://gui-challenges-stories.glitch.me/">Demo</a></figcaption></figure><p>If you would prefer a hands-on demonstration of building this Stories component yourself, check out the <a href="https://sadewadee.pages.dev/codelab-building-a-stories-component">Stories component codelab</a>.</p><p>If you prefer video, here’s a YouTube version of this post:</p><div id="toc_container" class="no_bullets"><p class="toc_title">Contents</p><ul class="toc_list"><li><a href="#Overview"><span class="toc_number toc_depth_1">1</span> Overview #</a></li><li><a href="#Picking_the_right_tools_for_the_job"><span class="toc_number toc_depth_1">2</span> Picking the right tools for the job #</a><ul><li><a href="#CSS_Grid"><span class="toc_number toc_depth_2">2.1</span> CSS Grid #</a><ul><li><a href="#Friends_layout"><span class="toc_number toc_depth_3">2.1.1</span> Friends layout #</a></li><li><a href="#Stacking"><span class="toc_number toc_depth_3">2.1.2</span> Stacking #</a></li></ul></li><li><a href="#CSS_Scroll_Snap_Points"><span class="toc_number toc_depth_2">2.2</span> CSS Scroll Snap Points #</a></li></ul></li><li><a href="#Cross-browser_compatibility"><span class="toc_number toc_depth_1">3</span> Cross-browser compatibility #</a><ul><li><a href="#scroll-snap-stop"><span class="toc_number toc_depth_2">3.1</span> scroll-snap-stop #</a></li><li><a href="#overscroll-behavior"><span class="toc_number toc_depth_2">3.2</span> overscroll-behavior #</a></li><li><a href="#scrollIntoViewbehavior_smooth"><span class="toc_number toc_depth_2">3.3</span> scrollIntoView({behavior: 'smooth'}) #</a></li></ul></li><li><a href="#Hands-on"><span class="toc_number toc_depth_1">4</span> Hands-on #</a></li><li><a href="#Community_remixes"><span class="toc_number toc_depth_1">5</span> Community remixes #</a></li></ul></div><h2 id="overview"><span id="Overview">Overview <a href="#overview" class="w-headline-link">#</a></span></h2><p>Two popular examples of the Stories UX are Snapchat Stories and Instagram Stories (not to mention fleets). In general UX terms, Stories are usually a mobile-only, tap-centric pattern for navigating multiple subscriptions. For example, on Instagram, users open a friend’s story and go through the pictures in it. They generally do this many friends at a time. By tapping on the right side of the device, a user skips ahead to that friend’s next story. By swiping right, a user skips ahead to a different friend. A Story component is fairly similar to a carousel, but allows navigating a multi-dimensional array as opposed to a single-dimensional array. It’s as if there’s a carousel inside each carousel. 🤯</p><figure class="w-figure"><img alt="Visualized multi-dimensional array using cards. Left to right is a stack of purple borders cards, and inside each card is 1-many cyan bordered cards. List in a list." class="w-screenshot w-screenshot--filled" height="255" src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format" width="716" loading="lazy" decoding="async" sizes="(min-width: 716px) 716px, calc(100vw - 48px)" srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=200 200w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=228 228w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=260 260w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=296 296w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=338 338w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=385 385w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=439 439w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=500 500w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=571 571w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=650 650w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=741 741w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=845 845w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=964 964w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=1098 1098w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=1252 1252w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=1428 1428w,https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0yVm8NC0TiAsl6hcDxys.png?auto=format&amp;w=1432 1432w"><figcaption class="w-figcaption"><span style="width: 1rem; height: 1rem; background: #EB00FF; display: inline-block; border-radius: 3px; position: relative; top: .2em;"></span> 1st carousel of friends<br><span style="width: 1rem; height: 1rem; background: #00D8FF; display: inline-block; border-radius: 3px; position: relative; top: .2em;"></span> 2nd “stacked” carousel of stories<br>👍 List in a list, aka: a multi-dimensional array</figcaption></figure><h2 id="features"><span id="Picking_the_right_tools_for_the_job">Picking the right tools for the job <a href="#features" class="w-headline-link">#</a></span></h2><p>All in all I found this component pretty straightforward to build, thanks to a few critical web platform features. Let’s cover them!</p><h3 id="grid"><span id="CSS_Grid">CSS Grid <a href="#grid" class="w-headline-link">#</a></span></h3><p>Our layout turned out to be no tall order for CSS Grid as it’s equipped with some powerful ways to wrangle content.</p><h4 id="friends-layout"><span id="Friends_layout">Friends layout <a href="#friends-layout" class="w-headline-link">#</a></span></h4><p>Our primary <code>.stories</code> component wrapper is a mobile-first horizontal scrollview:</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">.stories</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">inline-size</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">block-size</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><mark class="highlight-line highlight-line-active"><span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active"><span class="token property">grid</span><span class="token punctuation">:</span> 1fr / auto-flow 100%<span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active"><span class="token property">gap</span><span class="token punctuation">:</span> 1ch<span class="token punctuation">;</span></mark><br><span class="highlight-line"></span><br><span class="highlight-line">  <span class="token property">overflow-x</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">scroll-snap-type</span><span class="token punctuation">:</span> x mandatory<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">overscroll-behavior</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">touch-action</span><span class="token punctuation">:</span> pan-x<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">hover</span><span class="token punctuation">:</span> hover<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 480px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">max-inline-size</span><span class="token punctuation">:</span> 480px<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">max-block-size</span><span class="token punctuation">:</span> 848px<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre><p></p><figure class="w-figure"><video autoplay="" class="w-screenshot" controls="" loop="" muted="" playsinline=""><source src="https://storage.googleapis.com/web-dev-assets/gui-challenges/stories-overflow-columns.webm" type="video/webm"><source src="https://storage.googleapis.com/web-dev-assets/gui-challenges/stories-overflow-columns.mp4"></source></source></video><figcaption class="w-figcaption">Using Chrome DevTools’ <a href="https://developers.google.com/web/tools/chrome-devtools/device-mode">Device Mode</a> to highlight the columns created by Grid</figcaption></figure><p>Let’s breakdown that <code>grid</code> layout:</p><ul><li>We explicitly fill the viewport on mobile with <code>100vh</code> and <code>100vw</code> and constrain the size on desktop</li><li><code>/</code> separates our row and column templates</li><li><code>auto-flow</code> translates to <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-auto-flow" rel="noopener"><code>grid-auto-flow: column</code></a></li><li>The autoflow template is <code>100%</code>, which in this case is whatever the scroll window width is</li></ul><div class="w-aside w-aside--note"><p>Note that the location of the <code>/</code> separator relative to <code>auto-flow</code> is important. If <code>auto-flow</code> came before <code>/</code> it would be shorthand for <code>grid-auto-flow: row</code>.</p></div><p>On a mobile phone, think of this like the row size being the viewport height and each column being the viewport width. Continuing with the Snapchat Stories and Instagram Stories example, each column will be a friend’s story. We want friends stories to continue outside of the viewport so we have somewhere to scroll to. Grid will make however many columns it needs to layout your HTML for each friend story, creating a dynamic and responsive scrolling container for us. Grid enabled us to centralize the whole effect.</p><h4 id="stacking"><span id="Stacking">Stacking <a href="#stacking" class="w-headline-link">#</a></span></h4><p>For each friend we need their stories in a pagination-ready state. In preparation for animation and other fun patterns, I chose a stack. When I say stack, I mean like you’re looking down on a sandwich, not like you’re looking from the side.</p><p>With CSS grid, we can define a single-cell grid (i.e. a square), where the rows and columns share an alias (<code>[story]</code>), and then each child gets assigned to that aliased single-cell space:</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">.user</span> <span class="token punctuation">{</span></span><br><mark class="highlight-line highlight-line-active"><span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active"><span class="token property">grid</span><span class="token punctuation">:</span> [story] 1fr / [story] 1fr<span class="token punctuation">;</span></mark><br><span class="highlight-line">  <span class="token property">scroll-snap-align</span><span class="token punctuation">:</span> start<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">scroll-snap-stop</span><span class="token punctuation">:</span> always<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">.story</span> <span class="token punctuation">{</span></span><br><mark class="highlight-line highlight-line-active"><span class="token property">grid-area</span><span class="token punctuation">:</span> story<span class="token punctuation">;</span></mark><br><span class="highlight-line">  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span></span><br><span class="highlight-line">  …</span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre><p></p><p>This puts our HTML in control of the stacking order and also keeps all elements in flow. Notice how we didn’t need to do anything with <code>absolute</code> positioning or <code>z-index</code> and we didn’t need to box correct with <code>height: 100%</code> or <code>width: 100%</code>. The parent grid already defined the size of the story picture viewport, so none of these story components needed to be told to fill it!</p><h3 id="scroll-snap-points"><span id="CSS_Scroll_Snap_Points">CSS Scroll Snap Points <a href="#scroll-snap-points" class="w-headline-link">#</a></span></h3><p>The <a href="https://www.w3.org/TR/css-scroll-snap-1/" rel="noopener">CSS Scroll Snap Points spec</a> makes it a cinch to lock elements into the viewport on scroll. Before these CSS properties existed, you had to use JavaScript, and it was… tricky, to say the least. Check out <a href="https://css-tricks.com/introducing-css-scroll-snap-points/" rel="noopener">Introducing CSS Scroll Snap Points</a> by Sarah Drasner for a great breakdown of how to use them.</p><figure class="w-figure"><video autoplay="" class="w-screenshot" controls="" loop="" muted="" playsinline=""><source src="https://storage.googleapis.com/web-dev-assets/gui-challenges/scroll-snap-example.mp4"></source></video><figcaption class="w-figcaption">Horizontal scrolling without and with <code>scroll-snap-points</code> styles. Without it, users can free scroll as normal. With it, the browser rests gently on each item.</figcaption></figure><div class="w-columns"><figure class="w-compare"><p class="w-compare__label w-compare__label--better">parent</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">.stories</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">grid</span><span class="token punctuation">:</span> 1fr / auto-flow 100%<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">gap</span><span class="token punctuation">:</span> 1ch<span class="token punctuation">;</span></span><br><mark class="highlight-line highlight-line-active"><span class="token property">overflow-x</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active"><span class="token property">scroll-snap-type</span><span class="token punctuation">:</span> x mandatory<span class="token punctuation">;</span></mark><br><span class="highlight-line">  <span class="token property">overscroll-behavior</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">touch-action</span><span class="token punctuation">:</span> pan-x<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre><p><figcaption class="w-compare__caption"><p>Parent with overscroll defines snap behavior.</p></figcaption></p></figure><figure class="w-compare"><p class="w-compare__label w-compare__label--better">child</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">.user</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">grid</span><span class="token punctuation">:</span> [story] 1fr / [story] 1fr<span class="token punctuation">;</span></span><br><mark class="highlight-line highlight-line-active"><span class="token property">scroll-snap-align</span><span class="token punctuation">:</span> start<span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active"><span class="token property">scroll-snap-stop</span><span class="token punctuation">:</span> always<span class="token punctuation">;</span></mark><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre><p><figcaption class="w-compare__caption"><p>Children opt into being a snap target.</p></figcaption></p></figure></div><p>I chose Scroll Snap Points for a few reasons:</p><ul><li><strong>Free accessibility</strong>. The Scroll Snap Points spec states that pressing the <kbd>Left Arrow</kbd> and <kbd>Right Arrow</kbd> keys should move through the snap points by default.</li><li><strong>A growing spec</strong>. The Scroll Snap Points spec is getting new features and improvements all the time, which means that my Stories component will probably only get better from here on out.</li><li><strong>Ease of implementation</strong>. Scroll Snap Points are practically built for the touch-centric horizontal-pagination use case.</li><li><strong>Free platform-style inertia</strong>. Every platform will scroll and rest in its style, as opposed to normalized inertia which can have an uncanny scrolling and resting style.</li></ul><h2 id="compatibility"><span id="Cross-browser_compatibility">Cross-browser compatibility <a href="#compatibility" class="w-headline-link">#</a></span></h2><p>We tested on Opera, Firefox, Safari, and Chrome, plus Android and iOS. Here’s a brief rundown of the web features where we found differences in capabilities and support.</p><div class="w-aside w-aside--success"><p><strong>Success</strong>: All of the features chosen were supported and none were buggy.</p></div><p>We did though have some CSS not apply, so some platforms are currently missing out on UX optimizations. I did enjoy not needing to manage these features and feel confident that they’ll eventually reach other browsers and platforms.</p><h3 id="scroll-snap-stop"><span id="scroll-snap-stop"><code>scroll-snap-stop</code> <a href="#scroll-snap-stop" class="w-headline-link">#</a></span></h3><p>Carousels were one of the major UX use cases that prompted the creation of the CSS Scroll Snap Points spec. Unlike Stories, a carousel doesn’t always need to stop on each image after a user interacts with it. It might be fine or encouraged to quickly cycle through the carousel. Stories, on the other hand, are best navigated one-by-one, and that’s exactly what <code>scroll-snap-stop</code> provides.</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">.user</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">scroll-snap-align</span><span class="token punctuation">:</span> start<span class="token punctuation">;</span></span><br><mark class="highlight-line highlight-line-active"><span class="token property">scroll-snap-stop</span><span class="token punctuation">:</span> always<span class="token punctuation">;</span></mark><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre><p></p><p>At the time of writing this post, <code>scroll-snap-stop</code> is only supported on Chromium-based browsers. Check out <a href="https://developer.mozilla.org/docs/Web/CSS/scroll-snap-stop#Browser_compatibility" rel="noopener">Browser compatibility</a> for updates. It’s not a blocker, though. It just means that on unsupported browsers users can accidentally skip a friend. So users will just have to be more careful, or we’ll need to write JavaScript to ensure that a skipped friend isn’t marked as viewed.</p><p>Read more in <a href="https://www.w3.org/TR/css-scroll-snap-1/#scroll-snap-stop" rel="noopener">the spec</a> if you’re interested.</p><h3 id="overscroll-behavior"><span id="overscroll-behavior"><code>overscroll-behavior</code> <a href="#overscroll-behavior" class="w-headline-link">#</a></span></h3><p>Have you ever been scrolling through a modal when all of a sudden you start scrolling the content behind the modal? <a href="https://developer.mozilla.org/docs/Web/CSS/overscroll-behavior" rel="noopener"><code>overscroll-behavior</code></a> lets the developer trap that scroll and never let it leave. It’s nice for all sorts of occasions. My Stories component uses it to prevent additional swipes and scrolling gestures from leaving the component.</p><p><web-copy-code></web-copy-code></p><pre class="language-css"><code class="language-css"><span class="token selector">.stories</span> <span class="token punctuation">{</span><br><span class="token property">overflow-x</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span><br><span class="token property">overscroll-behavior</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p></p><p>Safari and Opera were the 2 browsers that didn’t <a href="https://caniuse.com/#search=overscroll-behavior" rel="noopener">support</a> this, and that’s totally OK. Those users will get an overscroll experience like they’re used to and may never notice this enhancement. I’m personally a big fan and like including it as part of nearly every overscroll feature I implement. It’s a harmless addition that can only lead to improved UX.</p><h3 id="scrollintoview"><span id="scrollIntoViewbehavior_smooth"><code>scrollIntoView({behavior: 'smooth'})</code> <a href="#scrollintoview" class="w-headline-link">#</a></span></h3><p>When a user taps or clicks and has reached the end of a friend’s set of stories, it’s time to move to the next friend in the scroll snap point set. With JavaScript, we were able to reference the next friend and request for it to be scrolled into view. The support for the basics of this are great; every browser scrolled it into view. But, not every browser did it <code>'smooth'</code>. This just means it’s scrolled into view instead of snapped.</p><p><web-copy-code></web-copy-code></p><pre class="language-js"><code class="language-js">element<span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>behavior<span class="token operator">:</span> <span class="token string">'smooth'</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p></p><p>Safari was the only browser not to support <code>behavior: 'smooth'</code> here. Check out <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView#Browser_compatibility" rel="noopener">Browser compatibility</a> for updates.</p><h2 id="hands-on"><span id="Hands-on">Hands-on <a href="#hands-on" class="w-headline-link">#</a></span></h2><p>Now that you know how I did it, how would you?! Let’s diversify our approaches and learn all the ways to build on the web. Create a <a href="https://glitch.com" rel="noopener">Glitch</a>, <a href="https://twitter.com/argyleink" rel="noopener">tweet me</a> your version, and I’ll add it to the <a href="#community-remixes">Community remixes</a> section below.</p><h2 id="remixes"><span id="Community_remixes">Community remixes <a href="#remixes" class="w-headline-link">#</a></span></h2><div class="w-mb--l w-mt--l w-post-github-link"><span class="w-mr--sm">Last updated: <time>Nov 25, 2020</time></span><a href="https://github.com/GoogleChrome/web.dev/blob/master/src/site/content/en/blog/building-a-stories-component/index.md">Improve article</a></div><p><web-feedback additional-questions=""></web-feedback></p></div><p><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></p><div style="clear:both; margin-top:0em; margin-bottom:1em;"><a href="https://sadewadee.pages.dev/en/prioritize-resources/" target="_blank" rel="nofollow" class="u5bb8629cdda44cda8e8cf2fa86b62ee2"><div style="padding-left:1em; padding-right:1em;"><span class="ctaText">READ Also : </span>  <span class="postTitle">Prioritize resources</span></div></a></div><div class="clear"></div></div><div style="clear:both"></div></div></div></div><div class="col-md-4"><div class="row"><div id="sidebar" class="col-md-12"><div class="sidebar-box"><div class="widget-box"><header class="title"><div class="line"><h3>Calendar</h3></div></header><div id="calendar_wrap" class="calendar_wrap"><table id="wp-calendar" class="wp-calendar-table"><caption>November 2021</caption><thead><tr><th scope="col" title="Monday">M</th><th scope="col" title="Tuesday">T</th><th scope="col" title="Wednesday">W</th><th scope="col" title="Thursday">T</th><th scope="col" title="Friday">F</th><th scope="col" title="Saturday">S</th><th scope="col" title="Sunday">S</th></tr></thead><tbody><tr><td><a href="https://sadewadee.pages.dev/en/2021/11/01/" aria-label="Posts published on November 1, 2021">1</a></td><td><a href="https://sadewadee.pages.dev/en/2021/11/02/" aria-label="Posts published on November 2, 2021">2</a></td><td><a href="https://sadewadee.pages.dev/en/2021/11/03/" aria-label="Posts published on November 3, 2021">3</a></td><td id="today"><a href="https://sadewadee.pages.dev/en/2021/11/04/" aria-label="Posts published on November 4, 2021">4</a></td><td>5</td><td>6</td><td>7</td></tr><tr><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td></tr><tr><td>15</td><td>16</td><td>17</td><td>18</td><td>19</td><td>20</td><td>21</td></tr><tr><td>22</td><td>23</td><td>24</td><td>25</td><td>26</td><td>27</td><td>28</td></tr><tr><td>29</td><td>30</td><td class="pad" colspan="5"> </td></tr></tbody></table><nav aria-label="Previous and next months" class="wp-calendar-nav"> <span class="wp-calendar-nav-prev"><a href="https://sadewadee.pages.dev/en/2021/10/">« Oct</a></span> <span class="pad"> </span> <span class="wp-calendar-nav-next"> </span></nav></div></div><div class="widget-box"><header class="title"><div class="line"><h3>Archives</h3></div></header><ul><li><a href="https://sadewadee.pages.dev/en/2021/11/">November 2021</a></li><li><a href="https://sadewadee.pages.dev/en/2021/10/">October 2021</a></li><li><a href="https://sadewadee.pages.dev/en/2021/08/">August 2021</a></li><li><a href="https://sadewadee.pages.dev/en/2021/07/">July 2021</a></li><li><a href="https://sadewadee.pages.dev/en/2021/06/">June 2021</a></li></ul></div><div class="widget-box"><header class="title"><div class="line"><h3>Categories</h3></div></header><ul><li class="cat-item cat-item-18"><a href="https://sadewadee.pages.dev/en/category/improve-article/">Improve article</a></li><li class="cat-item cat-item-19"><a href="https://sadewadee.pages.dev/en/category/performance/">Performance</a></li><li class="cat-item cat-item-16"><a href="https://sadewadee.pages.dev/en/category/tech/">Tech</a></li><li class="cat-item cat-item-1"><a href="https://sadewadee.pages.dev/en/category/uncategorized/">Uncategorized</a></li><li class="cat-item cat-item-21"><a href="https://sadewadee.pages.dev/en/category/wordpress/">Wordpress</a></li></ul></div></div></div></div></div><div class="clear"></div></div></div><footer id="footer"><div class="container"><div class="row copyright"><div class="col-md-6"><p> Copyright Dev Tech 2021                                                | By <a href="https://www.themeinprogress.com/" target="_blank">Theme in Progress</a> | <a href="http://wordpress.org/" title="A Semantic Personal Publishing Platform" rel="generator">Proudly powered by WordPress</a></p></div><div class="col-md-6"><div class="socials"></div></div></div></div></footer></div><div id="trp-floater-ls" onclick="" data-no-translation class="trp-language-switcher-container trp-floater-ls-names trp-bottom-right trp-color-dark"><div id="trp-floater-ls-current-language" class="trp-with-flags"> <a href="#" class="trp-floater-ls-disabled-language trp-ls-disabled-language" onclick="event.preventDefault()"> <img class="trp-flag-image" src="https://sadewadee.pages.dev/contents/plugins/translatepress-multilingual/assets/images/flags/en_US.png" width="18" height="12" alt="en_US" title="English">English </a></div><div id="trp-floater-ls-language-list" class="trp-with-flags"><div class="trp-language-wrap"> <a href="https://sadewadee.pages.dev/id/building-a-stories-component/" title="Indonesian"> <img class="trp-flag-image" src="https://sadewadee.pages.dev/contents/plugins/translatepress-multilingual/assets/images/flags/id_ID.png" width="18" height="12" alt="id_ID" title="Indonesian">Indonesian </a> <a href="#" class="trp-floater-ls-disabled-language trp-ls-disabled-language" onclick="event.preventDefault()"><img class="trp-flag-image" src="https://sadewadee.pages.dev/contents/plugins/translatepress-multilingual/assets/images/flags/en_US.png" width="18" height="12" alt="en_US" title="English">English</a></div></div></div> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7" id="regenerator-runtime-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0" id="wp-polyfill-js"></script> <script type="text/javascript" id="contact-form-7-js-extra">var wpcf7 = {"api":{"root":"https:\/\/sadewadee.pages.dev\/en\/wp-json\/","namespace":"contact-form-7\/v1"},"cached":"1"};</script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/plugins/contact-form-7/includes/js/index.js?ver=5.4.2" id="contact-form-7-js"></script> <script type="text/javascript" id="toc-front-js-extra">var tocplus = {"smooth_scroll":"1","visibility_show":"show","visibility_hide":"hide","visibility_hide_by_default":"1","width":"Auto"};</script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/plugins/table-of-contents-plus/front.min.js?ver=2106" id="toc-front-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/ui/tema/assets/js/jquery.easing.js?ver=1.3" id="jquery-easing-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/ui/tema/assets/js/jquery.tinynav.js?ver=1.1" id="jquery-tinynav-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/ui/tema/assets/js/jquery.tipsy.js?ver=1.0.0a" id="jquery-tipsy-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/ui/tema/assets/js/prettyPhoto.js?ver=3.1.4" id="prettyPhoto-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/imagesloaded.min.js?ver=4.1.4" id="imagesloaded-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/inc/js/masonry.min.js?ver=4.2.2" id="masonry-js"></script> <script type="text/javascript" src="https://sadewadee.pages.dev/contents/ui/tema/assets/js/template.js?ver=1.0.0" id="alhena-lite-template-js"></script> </body></html>
